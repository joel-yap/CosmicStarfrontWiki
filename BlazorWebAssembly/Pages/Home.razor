@page "/"
@using BlazorWebAssembly.Models
@using BlazorWebAssembly.Services
@{
    string HomeTitle = "Cosmic Starfront Wiki";
}

<PageTitle>@HomeTitle</PageTitle>

<h1>Cosmic Starfront Wiki</h1>

<p>Welcome to the official Cosmic Starfront Wiki, the official resource for the game.</p>

@if (panels != null) {
    <div class="flex1">
        @foreach (var panel in panels)
        {
            if (panel.Box == 0) {
                <div class="flex2">
                    <img src=@panel.Image />
                    <a href=@panel.Link>@panel.Name</a>
                </div>
            }
        }
    </div>
}

@if (panels != null)
{
    <div class="flex1">
        @foreach (var panel in panels)
        {
            if (panel.Box == 1)
            {
                <div class="flex2">
                    <img src=@panel.Image />
                    <a href=@panel.Link>@panel.Name</a>
                </div>
            }
        }
    </div>
}

<div class="flex1">
    News
</div>

<div class="flex1">
    Links
</div>

@code {
    public List<PanelDTO>? panels;
    protected override async Task OnParametersSetAsync()
    {
        panels = await PageService.GetPanels(0);
    }
}